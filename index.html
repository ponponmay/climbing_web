<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小岩究</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&family=DotGothic16&family=Noto+Sans+TC:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        *{
            font-family:'Noto Sans TC',  'Dela Gothic One','DotGothic16';
        }
        body{
            /* background-color: coral; */
            background-image:url(images/logo_big_white.svg) ,  url(images/bg.svg);
            background-size: contain , cover;
            background-repeat: no-repeat , no-repeat;
            background-position: center top , center top;
        }

        .vk{
            height: 100vh;
            width: 100%;
            overflow: hidden;
        }
        .carabiner{
            background: url(images/carabiner.svg) no-repeat center top;
            width: 100%;
            height: 250px;
            margin-top: 80px;
            position: relative;
            /* 
            pointer-events: none 的意思是讓該元素被穿透, 不會觸發滑鼠作用(像點擊)
            carabiner_check 被包在 carabiner 裡面 
            如果 carabiner 設定被穿透, 包在裡面的 carabiner_check 應該也會被穿透
            那點擊了就會沒有作用
            */
            /* pointer-events: none; */
        }
        .carabiner_check{
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px dashed #fff;
            color: #fff;
            line-height: 45px;
            text-align: center;
            animation: clickBtn 2s ease-in-out infinite ,turnrun 3s linear infinite;
        
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translate(-30%, -10px);
            /* 
            carabiner_check 要點擊了才會觸發掛繩, 所以他不能被穿透
            */
            /* pointer-events: none; */
            /* 
            z-index 改成 20 才能被點到 
            */
            z-index: 20;
        }
        .carabiner_check p{
            letter-spacing: 1px;
            animation: turnback 3s linear infinite;
            user-select: none;
        }
        @keyframes clickBtn {
            0% ,100%{
                opacity: 0;
            }
            50%{
                opacity: 1;
            }     
        }
        @keyframes turnrun {
            0% {
                transform:translate(-30%, -10px) rotate(0deg);
            }
            50%{
                transform:translate(-30%, -10px) rotate(180deg);
            }
            100%{
                transform:translate(-30%, -10px) rotate(360deg);
            }
        }
        @keyframes turnback {
            0% {
                transform: rotate(0deg);
            }
            50%{
                transform: rotate(-180deg);
            }
            100%{
                transform: rotate(-360deg);
            }
        }

        .upper{
            position: absolute;
            background-image:url(images/logo_big_white.svg) ,  url(images/bg.svg);
            background-size: contain , cover;
            background-repeat: no-repeat , no-repeat;
            background-position: center top , center top;
            z-index: 10;
        }

        .real_vk{
            width: 100%;
            /* overflow: hidden; */
        }

        .start_rope{
            position: absolute;
            width: 300px;
            pointer-events: none;
            z-index: 30;
            user-select: none;
        }
        .rope_self{
            transform:translateY(-3%);
            display: flex;
            position: sticky;  
            top: 0;
        }
        .rope_self img{
            margin: 0 auto;
            height: 1000px;
            
        }
        .rope_straight{
            position: absolute;
            width: 15px;
            transform:translate(2% ,-2%) rotate(-45deg)  ;
            transform-origin: top left;
            top: 0;
            left: 50%;
            z-index: -1;
        }

        .position_relative{
            position: relative
        }
       
    </style>
</head>
<body>
    <div class="vk upper">
        <div class="start_rope">
            <img src="images/rope_start.svg" alt="">
        </div>   
        <div class="carabiner">
            <div class="carabiner_check">
                <p>click</p>
            </div>
        </div>
    </div>
    <div class="container  real_vk">
        <div class="row">
            <div class="col-12">
                <div class="carabiner">
                </div>
            </div>
            <div class="col-12 position_relative">
                <div class="rope_self">
                    <img src="images/rope_self.svg" alt="">
                </div>
                <div class="rope_straight">
                    <img src="images/rope_straight.svg" alt="">
                </div>
            </div>
        </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script src="./js/jquery-3.6.3.min.js"></script>
    <script>

        // 滑鼠牽繩
        let  offsetX = null
        let  offsetY = null
        
        // .box內所有人都會觸動事件，包含滑鼠碰到紅點，都會被引發
        // 要避免滑鼠碰到紅點後會觸發，要在紅點的css加上pointer-events: none;
        $('.upper').mousemove(function(e){
            console.log('e.offsetX', e.offsetX)
            console.log('e.offsetY', e.offsetY)

            // 改成抓整個 page 的座標, 才不會被上層的 div 影響到
            console.log('e.pageX', e.pageX)
            console.log('e.pageY', e.pageY)

            // var husband = ['Jace', '曾皓', '我老公'];
            // var adjective = ['年輕的帥哥', '可愛的男孩'];
            // console.log(husband[Math.floor(Math.random()*3)] + '是' + adjective[Math.floor(Math.random()*2)]);

            pageX = e.pageX
            pageY = e.pageY

            // 動態抓圖片的寬度並且除以2, 讓滑鼠在繩子頂端
            pageX = pageX - ($('.start_rope').width()/2)
          
            $('.start_rope').css('transform', `translate(${pageX}px,${pageY}px)`)
          
        })

        // 主視覺點擊後掛繩
        $('.real_vk').css('display','none')
        $('.carabiner_check').click(function(){
            $('.upper').css('display', 'none')
            $('.real_vk').css('display','block')
        })
        
    </script>
</body>
</html>